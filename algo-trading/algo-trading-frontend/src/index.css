@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    body {
        margin: 0;
        font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
            Roboto, 'Helvetica Neue', Arial, sans-serif;
        font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
        letter-spacing: -0.011em;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-gray-100;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gray-300 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gray-400;
    }

    /* Better focus ring */
    input:focus,
    select:focus,
    textarea:focus,
    button:focus-visible {
        @apply outline-none ring-2 ring-blue-500 ring-offset-1;
    }
}

code {
    font-family: 'JetBrains Mono', source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
        monospace;
}

@layer components {

    /* Card */
    .card {
        @apply bg-white rounded-xl border border-gray-200 shadow-sm;
    }

    .card-dark {
        @apply rounded-xl border shadow-sm;
    }

    /* Card base */
    .card {
        @apply bg-white rounded-xl border border-gray-200 shadow-sm;
    }

    /* Stat card */
    .stat-card {
        @apply bg-white rounded-xl border border-gray-200 shadow-sm p-6;
    }

    .stat-label {
        @apply text-xs font-medium text-gray-500 uppercase tracking-wide;
    }

    .stat-value {
        @apply text-2xl font-bold text-gray-900 mt-1 tracking-tight;
    }

    .stat-sub {
        @apply text-xs text-gray-500 mt-1;
    }

    /* Table */
    .table-container {
        @apply bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden;
    }

    .table-header {
        @apply px-6 py-4 border-b border-gray-100 flex items-center justify-between;
    }

    .table-title {
        @apply text-sm font-semibold text-gray-700 uppercase tracking-wide;
    }

    .th {
        @apply px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap;
    }

    .th-sortable {
        @apply px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider whitespace-nowrap cursor-pointer select-none hover:text-gray-800 hover:bg-gray-100 transition-colors;
    }

    .td {
        @apply px-4 py-3 text-sm text-gray-700 whitespace-nowrap;
    }

    .tr {
        @apply border-b border-gray-50 hover:bg-blue-50/40 transition-colors duration-100;
    }

    /* Badges */
    .badge {
        @apply inline-flex items-center px-2 py-0.5 rounded-md text-xs font-semibold;
    }

    .badge-green {
        @apply bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200;
    }

    .badge-red {
        @apply bg-red-50 text-red-700 ring-1 ring-red-200;
    }

    .badge-blue {
        @apply bg-blue-50 text-blue-700 ring-1 ring-blue-200;
    }

    .badge-yellow {
        @apply bg-amber-50 text-amber-700 ring-1 ring-amber-200;
    }

    .badge-gray {
        @apply bg-gray-100 text-gray-600 ring-1 ring-gray-200;
    }

    /* P&L cells */
    .pnl-pos {
        @apply text-emerald-600 font-semibold;
    }

    .pnl-neg {
        @apply text-red-600 font-semibold;
    }

    .pnl-zero {
        @apply text-gray-500 font-medium;
    }

    /* Buttons */
    .btn {
        @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-150 disabled:opacity-50 disabled:cursor-not-allowed;
    }

    .btn-primary {
        @apply btn bg-blue-600 text-white hover:bg-blue-700 shadow-sm;
    }

    .btn-secondary {
        @apply btn bg-white text-gray-700 border border-gray-300 hover:bg-gray-50;
    }

    .btn-danger {
        @apply btn bg-red-600 text-white hover:bg-red-700 shadow-sm;
    }

    .btn-ghost {
        @apply btn text-gray-600 hover:bg-gray-100;
    }

    .btn-success {
        @apply btn bg-emerald-600 text-white hover:bg-emerald-700 shadow-sm;
    }

    .btn-sm {
        @apply px-3 py-1.5 text-xs;
    }

    .btn-xs {
        @apply px-2 py-1 text-xs;
    }

    /* Form inputs */
    .input {
        @apply w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white placeholder-gray-400 transition-colors;
    }

    .label {
        @apply block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1.5;
    }

    /* Page layout */
    .page-header {
        @apply flex items-center justify-between pb-6 border-b border-gray-100;
    }

    .page-title {
        @apply text-2xl font-bold text-gray-900 tracking-tight;
    }

    .page-sub {
        @apply text-sm text-gray-500 mt-0.5;
    }

    /* Empty state */
    .empty-state {
        @apply flex flex-col items-center justify-center py-16 text-center;
    }

    .empty-icon {
        @apply h-10 w-10 text-gray-300 mb-3;
    }

    .empty-title {
        @apply text-sm font-semibold text-gray-700 mb-1;
    }

    .empty-sub {
        @apply text-xs text-gray-400;
    }

    /* Loading skeleton */
    .skeleton {
        @apply bg-gray-200 rounded animate-pulse;
    }

    .skeleton-text {
        @apply skeleton h-4 w-full mb-2;
    }

    .skeleton-text-sm {
        @apply skeleton h-3 w-3/4 mb-1;
    }

    /* Section heading */
    .section-title {
        @apply text-base font-semibold text-gray-900 tracking-tight;
    }
}

/* Skeleton shimmer */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }

    100% {
        background-position: 200% 0;
    }
}

.skeleton-shimmer {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
}

/* Dropdown */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-6px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fadeIn {
    animation: fadeIn 0.15s ease-out;
}

/* Sort arrow */
.sort-asc::after {
    content: ' ↑';
}

.sort-desc::after {
    content: ' ↓';
}

/* Pulse live dot */
@keyframes livePulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }
}

.live-dot {
    @apply inline-block h-2 w-2 rounded-full bg-emerald-500;
    animation: livePulse 1.5s ease-in-out infinite;
}

.live-dot-red {
    @apply inline-block h-2 w-2 rounded-full bg-red-500;
    animation: livePulse 1.5s ease-in-out infinite;
}